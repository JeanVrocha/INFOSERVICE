<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Electromecánica | INFOSERVICE</title>
  <link rel="shortcut icon" href="./IMAGENES/favicon-32x32.png" type="image/x-icon">
  <link rel="stylesheet" href="./css/normalize.css?v=4" />
  <link rel="stylesheet" href="./css/estilos.css?v=4" />
  <link rel="stylesheet" href="./css/estilo2.css?v=1" />
</head>
<body>
  <header>
    <nav class="nav container">
      <div class="div__logo">
        <img class="logo-img" src="./IMAGENES/infoservicelogo.png" alt="INFOSERVICE logo">
        <h2 class="nav__title">INFOSERVICE.</h2>
      </div>
      <nav class="menu">
        <ul>
          <li><a href="index.html" class="btn-inicio">Inicio</a></li>
          <li><a href="#">Acerca de</a></li>
          <li><a href="#">Contacto</a></li>
          <li><a href="#">Blog</a></li>
        </ul>
      </nav>
      <div class="nav__menu">
        <img src="./IMAGENES/menu.svg" alt="nav__img">
      </div>
    </nav>
  </header>
  <div class="layout">
    <aside class="sidebar" aria-label="Navegación lateral">
      <div class="side-title">Categorías</div>
      <ul class="side-nav">
        <li class="side-item"><a class="side-link" href="#sec-dispositivos"><span class="side-bullet"></span><span>DISPOSITIVOS ELECTROMECÁNICOS FUNDAMENTALES</span><span class="chev">›</span></a></li>
        <li class="side-item"><a class="side-link" href="#sec-maquinas"><span class="side-bullet"></span><span>MAQUINAS/HERRAMIENTAS Y EQUIPOS DE PRODUCCIÓN</span><span class="chev">›</span></a></li>
        <li class="side-item"><a class="side-link" href="#sec-metrologia"><span class="side-bullet"></span><span>EQUIPOS DE MEDICIÓN Y CONTROL (METROLOGÍA E INSTRUMENTACIÓN)</span><span class="chev">›</span></a></li>
        <li class="side-item"><a class="side-link" href="#sec-instalacion"><span class="side-bullet"></span><span>EQUIPOS DE INSTALACIÓN INDUSTRIALES</span><span class="chev">›</span></a></li>
        <li class="side-item"><a class="side-link" href="#sec-mantenimiento"><span class="side-bullet"></span><span>HERRAMIENTAS DE MANTENIMIENTO</span><span class="chev">›</span></a></li>
      </ul>
    </aside>
    <main class="content">
      <div class="box section" id="sec-dispositivos">
        <h2>Dispositivos Electromecánicos Fundamentales</h2>
        <p class="muted">Contenido introductorio a los dispositivos clave. Puedes indicarme textos o recursos para completar esta sección.</p>
        <div class="em-slider" data-slider="dispositivos">
          <button class="em-arrow em-prev" aria-label="Anterior">
            <img src="./IMAGENES/izquierda.svg" alt="Anterior">
          </button>
          <div class="em-viewport">
            <div class="em-track">
              <article class="em-card" data-key="motor-ca" tabindex="0">
                <div class="em-card-media">
                  <img src="./IMAGENES/EQUIPOS/DISPOSITIVOS ELECTROMECANICOS FUNDAMENTALES/PORTADA1.png" alt="Motor de Corriente Alterna">
                </div>
                <div class="em-card-meta">
                  <h3>MOTOR DE CORRIENTE ALTERNA</h3>
                  <button class="em-btn" type="button">Iniciar</button>
                </div>
              </article>
              <article class="em-card" data-key="motor-ca-2" tabindex="0">
                <div class="em-card-media">
                  <img src="./IMAGENES/EQUIPOS/DISPOSITIVOS ELECTROMECANICOS FUNDAMENTALES/PORTADA2.png" alt="Motor de Corriente Alterna - Portada 2">
                </div>
                <div class="em-card-meta">
                  <h3>MOTOR DE CORRIENTE CONTINUA</h3>
                  <button class="em-btn" type="button">Iniciar</button>
                </div>
              </article>
              <article class="em-card" data-key="motor-ca-3" tabindex="0">
                <div class="em-card-media">
                  <img src="./IMAGENES/EQUIPOS/DISPOSITIVOS ELECTROMECANICOS FUNDAMENTALES/PORTADA3.png" alt="Motor de Corriente Alterna - Portada 3">
                </div>
                <div class="em-card-meta">
                  <h3>GENERADOR ELECTRICO</h3>
                  <button class="em-btn" type="button">Iniciar</button>
                </div>
              </article>
            </div>
          </div>
          <button class="em-arrow em-next" aria-label="Siguiente">
            <img src="./IMAGENES/derecha.svg" alt="Siguiente">
          </button>
        </div>
      </div>
      <div class="box section" id="sec-maquinas">
        <h2>Máquinas/Herramientas y Equipos de Producción</h2>
        <p class="muted">Resumen de máquinas y herramientas críticas en producción. Agrega el contenido que desees.</p>
      </div>
      <div class="box section" id="sec-metrologia">
        <h2>Equipos de Medición y Control (Metrología e Instrumentación)</h2>
        <p class="muted">Instrumentación y medición para asegurar calidad y seguridad.</p>
      </div>
      <div class="box section" id="sec-instalacion">
        <h2>Equipos de Instalación Industriales</h2>
        <p class="muted">Herramientas y equipos utilizados en instalaciones industriales.</p>
      </div>
      <div class="box section" id="sec-mantenimiento">
        <h2>Herramientas de Mantenimiento</h2>
        <p class="muted">Conjunto de herramientas y prácticas para el mantenimiento.</p>
      </div>
      <div class="box section">
        <a class="btn" href="index.html">Volver al inicio</a>
      </div>
    </main>
  </div>
  <script>
    // Smooth scroll and active link handling
    (function(){
      const links = Array.from(document.querySelectorAll('.side-link'));
      const sections = links.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);
      // Smooth scroll
      links.forEach(a => a.addEventListener('click', (e) => {
        const id = a.getAttribute('href');
        const target = document.querySelector(id);
        if (target) {
          e.preventDefault();
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          setActive(a);
        }
      }));
      function setActive(activeLink){
        links.forEach(l => l.classList.toggle('active', l === activeLink));
      }
      // Active on scroll
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const link = links.find(l => l.getAttribute('href') === '#' + entry.target.id);
            if (link) setActive(link);
          }
        });
      }, { rootMargin: '-40% 0px -50% 0px', threshold: [0, 1] });
      sections.forEach(sec => obs.observe(sec));
    })();
  </script>
  <script src="./JS/splash-cursor.js"></script>
  <script>
    // Initialize splash cursor overlay (performance-tuned for wide compatibility)
    try { window.initSplashCursor && window.initSplashCursor({ TRANSPARENT: true, DYE_RESOLUTION: 720, COLOR_UPDATE_SPEED: 8, SPLAT_FORCE: 5500 }); } catch(e) {}
  </script>
  <script>
    // Slider básico para "Dispositivos Electromecánicos Fundamentales"
    (function(){
      const sliders = document.querySelectorAll('.em-slider');
      sliders.forEach(initSlider);

      function initSlider(root){
        const track = root.querySelector('.em-track');
        const viewport = root.querySelector('.em-viewport');
        const prev = root.querySelector('.em-prev');
        const next = root.querySelector('.em-next');
        const cards = Array.from(root.querySelectorAll('.em-card'));
        let index = 0;

        function visibleCount(){
          const w = viewport.getBoundingClientRect().width;
          const first = cards[0];
          if (!first) return 1;
          const cw = first.getBoundingClientRect().width;
          const gap = 16; // debe coincidir con CSS
          return Math.max(1, Math.floor((w + gap) / (cw + gap)));
        }

        function update(){
          const first = cards[0];
          const gap = 16;
          const cw = first ? first.getBoundingClientRect().width : 0;
          track.style.transform = `translateX(${-index * (cw + gap)}px)`;
          prev.disabled = index <= 0;
          const maxIndex = Math.max(0, cards.length - visibleCount());
          next.disabled = index >= maxIndex;
        }

        prev.addEventListener('click', ()=>{ index = Math.max(0, index - 1); update(); });
        next.addEventListener('click', ()=>{ index = Math.min(cards.length - 1, index + 1); update(); });
        window.addEventListener('resize', update);

        // Click para cargar detalle (placeholder): emitir evento global para integrar luego
        cards.forEach(card => {
          const open = ()=>{
            const key = card.dataset.key;
            window.dispatchEvent(new CustomEvent('em:cardClick', { detail: { key } }));
          };
          card.addEventListener('click', open);
          card.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); open(); }});
          const btn = card.querySelector('.em-btn');
          if (btn) {
            btn.addEventListener('click', (e)=>{ e.stopPropagation(); open(); });
          }
        });

        update();
      }
    })();
  </script>
  </body>
</html>
